@using Microsoft.AspNetCore.Identity
@using CampusIssueReporting.Models
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@* Admin sidebar partial *@
<link rel="stylesheet" href="~/css/admin-sidebar.css" />
<nav id="admin-sidebar" class="nav flex-column bg-light p-3" style="min-height:100vh; max-width:250px;">
    <div class="mb-4">
        <h5 class="mb-0 text-primary-dark">Admin</h5>
        <small class="text-primary">Dashboard</small>
    </div>

    @if (SignInManager.IsSignedIn(User) && User.IsInRole("Admin"))
    {
        <a class="nav-link sidebar" asp-area="Admin" asp-controller="Student" asp-action="Index">Students</a>
        <a class="nav-link sidebar" asp-area="Admin" asp-controller="Issue" asp-action="Index">Issues</a>
        <a class="nav-link sidebar" asp-area="Admin" asp-controller="IssueCategory" asp-action="Index">Categories</a>

        <hr />
        <form asp-area="" asp-controller="Account" asp-action="Logout" method="post">
            <button type="submit" class="btn btn-link nav-link p-0">Logout</button>
        </form>
    }
    else
    {
        <a class="nav-link disabled" title="Admin only">Students (admin only)</a>
        <a class="nav-link disabled" title="Admin only">Issues (admin only)</a>
        <a class="nav-link disabled" title="Admin only">Categories (admin only)</a>
    }

</nav>
